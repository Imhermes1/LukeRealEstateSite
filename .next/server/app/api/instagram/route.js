"use strict";(()=>{var e={};e.id=749,e.ids=[749],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8792:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>c,patchFetch:()=>g,requestAsyncStorage:()=>u,routeModule:()=>m,serverHooks:()=>l,staticGenerationAsyncStorage:()=>d});var a={};r.r(a),r.d(a,{GET:()=>p});var s=r(9303),i=r(8716),n=r(670),o=r(7070);async function p(){let e=process.env.NEXT_PUBLIC_INSTAGRAM_GRAPH_TOKEN,t=process.env.NEXT_PUBLIC_INSTAGRAM_USER_ID;if(!e||!t)return console.error("Instagram API credentials not configured"),o.NextResponse.json({error:"Instagram API not configured"},{status:500});try{let r=await fetch(`https://graph.instagram.com/${t}/media?fields=id,media_url,thumbnail_url,permalink,caption,timestamp,media_type&access_token=${e}&limit=6`);if(!r.ok){let e=await r.text();throw console.error("Instagram API error:",e),Error(`Instagram API request failed: ${r.status}`)}let a=await r.json();if(!a.data||!Array.isArray(a.data))throw Error("Invalid Instagram API response");let s=a.data.map(e=>({id:e.id,caption:e.caption||"",mediaUrl:"VIDEO"===e.media_type?e.thumbnail_url:e.media_url,permalink:e.permalink,timestamp:e.timestamp,mediaType:e.media_type}));return o.NextResponse.json({data:s})}catch(e){return console.error("Error fetching Instagram posts:",e),o.NextResponse.json({error:"Failed to fetch Instagram posts"},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/instagram/route",pathname:"/api/instagram",filename:"route",bundlePath:"app/api/instagram/route"},resolvedPagePath:"/Users/lukefornieri/LukeRealEstateSite/app/api/instagram/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:l}=m,c="/api/instagram/route";function g(){return(0,n.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,972],()=>r(8792));module.exports=a})();